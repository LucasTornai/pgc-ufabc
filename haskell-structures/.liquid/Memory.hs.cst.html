<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<title>Memory.hs</title>
</head>
<head>
<link type='text/css' rel='stylesheet' href='liquid.css' />
</head>

<body>
<hr>
Put mouse over identifiers to see inferred types
<pre><span class=hs-linenum> 1: </span><a class=annot href="#"><span class=annottext>{VV##1048 : GHC.Types.Module | $k_##1049}</span><span class='hs-keyword'>{-@</span></a> <span class='hs-conid'>LIQUID</span> <span class='hs-str'>"--reflection"</span> <span class='hs-keyword'>@-}</span>
<span class=hs-linenum> 2: </span>
<span class=hs-linenum> 3: </span><span class='hs-keyword'>module</span> <span class='hs-conid'>Memory</span> <span class='hs-keyword'>where</span>
<span class=hs-linenum> 4: </span>
<span class=hs-linenum> 5: </span><span class='hs-keyword'>import</span> <span class='hs-keyword'>qualified</span> <span class='hs-conid'>Data.Set</span> <span class='hs-keyword'>as</span> <span class='hs-conid'>S</span>
<span class=hs-linenum> 6: </span>
<span class=hs-linenum> 7: </span><span class='hs-keyword'>{-@</span> <span class='hs-varid'>reflect</span> <span class='hs-varid'>get</span>   <span class='hs-keyword'>@-}</span>
<span class=hs-linenum> 8: </span><span class='hs-keyword'>{-@</span> <span class='hs-varid'>reflect</span> <span class='hs-varid'>set</span>   <span class='hs-keyword'>@-}</span>
<span class=hs-linenum> 9: </span><span class='hs-keyword'>{-@</span> <span class='hs-varid'>reflect</span> <span class='hs-varid'>unset</span> <span class='hs-keyword'>@-}</span>
<span class=hs-linenum>10: </span>
<span class=hs-linenum>11: </span>
<span class=hs-linenum>12: </span>
<span class=hs-linenum>13: </span><span class='hs-keyword'>data</span> <span class='hs-conid'>Mem</span> <span class='hs-varid'>v</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>MEmp</span> <span class='hs-keyglyph'>|</span> <span class='hs-conid'>MCons</span> <span class='hs-conid'>Int</span> <span class='hs-varid'>v</span> <span class='hs-layout'>(</span><span class='hs-conid'>Mem</span> <span class='hs-varid'>v</span><span class='hs-layout'>)</span>
<span class=hs-linenum>14: </span>
<span class=hs-linenum>15: </span><span class='hs-keyword'>{-@</span>
<span class=hs-linenum>16: </span>
<span class=hs-linenum>17: </span><span class='hs-keyword'>data</span> <span class='hs-conid'>Mem</span> <span class='hs-varid'>v</span> <span class='hs-keyglyph'>=</span>
<span class=hs-linenum>18: </span>    <span class='hs-conid'>MEmp</span>
<span class=hs-linenum>19: </span>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>MCons</span> <span class='hs-layout'>{</span> <span class='hs-varid'>addr</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span><span class='hs-layout'>,</span> <span class='hs-varid'>val</span> <span class='hs-keyglyph'>::</span> <span class='hs-varid'>v</span><span class='hs-layout'>,</span>  <span class='hs-varid'>mem</span> <span class='hs-keyglyph'>::</span> <span class='hs-layout'>{</span> <span class='hs-varid'>m</span> <span class='hs-conop'>:</span> <span class='hs-conid'>Mem</span> <span class='hs-varid'>v</span> <span class='hs-keyglyph'>|</span> <span class='hs-conid'>S.intersection</span> <span class='hs-layout'>(</span><span class='hs-varid'>memAddrs</span> <span class='hs-varid'>m</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-conid'>S.singleton</span> <span class='hs-varid'>addr</span><span class='hs-layout'>)</span> <span class='hs-varop'>==</span> <span class='hs-conid'>S.empty</span> <span class='hs-layout'>}</span> <span class='hs-layout'>}</span>
<span class=hs-linenum>20: </span>
<span class=hs-linenum>21: </span><span class='hs-keyword'>@-}</span>
<span class=hs-linenum>22: </span>
<span class=hs-linenum>23: </span><span class='hs-keyword'>{-@</span> <span class='hs-varid'>measure</span> <span class='hs-varid'>memAddrs</span> <span class='hs-keyword'>@-}</span>
<span class=hs-linenum>24: </span><span class='hs-definition'>memAddrs</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Mem</span> <span class='hs-varid'>v</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>S.Set</span> <span class='hs-conid'>Int</span>
<span class=hs-linenum>25: </span><a class=annot href="#"><span class=annottext>forall v .
lq_tmp$x##571:(Memory.Mem v) -&gt; {VV : (Data.Set.Internal.Set GHC.Types.Int) | VV == Memory.memAddrs lq_tmp$x##571}</span><span class='hs-definition'>memAddrs</span></a> <span class='hs-conid'>MEmp</span>                 <span class='hs-keyglyph'>=</span> <a class=annot href="#"><span class=annottext>{VV : forall a##a4vL .
      {lq_tmp$x##586 : (Data.Set.Internal.Set a##a4vL) | Set_emp lq_tmp$x##586
                                                         &amp;&amp; lq_tmp$x##586 == Data.Set.Internal.empty} | VV == Data.Set.Internal.empty}</span><span class='hs-conid'>S.empty</span></a>
<span class=hs-linenum>26: </span><span class='hs-definition'>memAddrs</span> <span class='hs-layout'>(</span><span class='hs-conid'>MCons</span> <span class='hs-varid'>addr</span> <span class='hs-varid'>val</span> <span class='hs-varid'>mem</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##658 : (GHC.Classes.Ord GHC.Types.Int) | lq_tmp$x##658 == GHC.Classes.$fOrdInt
                                                   &amp;&amp; lq_tmp$x##658 == GHC.Classes.$fOrdInt}</span><span class='hs-conid'>S.union</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##620 : (Data.Set.Internal.Set {lq_tmp$x##625 : GHC.Types.Int | $k_##624[VV##623:=lq_tmp$x##625][lq_tmp$x##622:=addr##a3hP]}) | lq_tmp$x##620 == Set_sng addr##a3hP
                                                                                                                                         &amp;&amp; lq_tmp$x##620 == Data.Set.Internal.singleton addr##a3hP}</span><span class='hs-layout'>(</span></a><span class='hs-conid'>S.singleton</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##626 : GHC.Types.Int | lq_tmp$x##626 == addr##a3hP}</span><span class='hs-varid'>addr</span></a><span class='hs-layout'>)</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##631 : (Data.Set.Internal.Set GHC.Types.Int) | lq_tmp$x##631 == Memory.memAddrs mem##a3hR
                                                         &amp;&amp; lq_tmp$x##631 == Memory.memAddrs mem##a3hR}</span><span class='hs-layout'>(</span></a><span class='hs-varid'>memAddrs</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##638 : (Memory.Mem v) | Set_cap (Memory.memAddrs lq_tmp$x##638) (Set_sng addr##a3hP) == Set_empty 0
                                  &amp;&amp; lq_tmp$x##638 == mem##a3hR}</span><span class='hs-varid'>mem</span></a><span class='hs-layout'>)</span>
<span class=hs-linenum>27: </span>
<span class=hs-linenum>28: </span><span class='hs-keyword'>{-@</span> <span class='hs-varid'>get</span> <span class='hs-keyglyph'>::</span> <span class='hs-varid'>addr</span> <span class='hs-conop'>:</span> <span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyword'>{ mem :</span> <span class='hs-conid'>Mem</span> <span class='hs-varid'>v</span> <span class='hs-keyword'>| S.member addr (memAddrs mem) }</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>v</span> <span class='hs-keyword'>@-}</span>
<span class=hs-linenum>29: </span><span class='hs-definition'>get</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Mem</span> <span class='hs-varid'>v</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>v</span>
<span class=hs-linenum>30: </span><a class=annot href="#"><span class=annottext>forall v .
lq_tmp$x##663:GHC.Types.Int -&gt; lq_tmp$x##664:{mem : (Memory.Mem v) | Set_mem lq_tmp$x##663 (Memory.memAddrs mem)} -&gt; v</span><span class='hs-definition'>get</span></a> <a class=annot href="#"><span class=annottext>GHC.Types.Int</span><span class='hs-varid'>addr</span></a> <span class='hs-layout'>(</span><span class='hs-conid'>MCons</span> <span class='hs-varid'>addr'</span> <span class='hs-varid'>val'</span> <span class='hs-varid'>mem</span><span class='hs-layout'>)</span>
<span class=hs-linenum>31: </span>  <span class='hs-keyglyph'>|</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##736 : GHC.Types.Int | lq_tmp$x##736 == addr##a3hS}</span><span class='hs-varid'>addr</span></a> <span class='hs-varop'>==</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##737 : GHC.Types.Int | lq_tmp$x##737 == addr'##a3hT}</span><span class='hs-varid'>addr'</span></a> <span class='hs-keyglyph'>=</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##765 : v | lq_tmp$x##765 == val'##a3hU}</span><span class='hs-varid'>val'</span></a>
<span class=hs-linenum>32: </span>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>     <span class='hs-keyglyph'>=</span> <a class=annot href="#"><span class=annottext>forall v .
lq_tmp$x##663:GHC.Types.Int -&gt; lq_tmp$x##664:{mem : (Memory.Mem v) | Set_mem lq_tmp$x##663 (Memory.memAddrs mem)} -&gt; v</span><span class='hs-varid'>get</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##757 : GHC.Types.Int | lq_tmp$x##757 == addr##a3hS}</span><span class='hs-varid'>addr</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##759 : (Memory.Mem v) | Set_cap (Memory.memAddrs lq_tmp$x##759) (Set_sng addr'##a3hT) == Set_empty 0
                                  &amp;&amp; lq_tmp$x##759 == mem##a3hV}</span><span class='hs-varid'>mem</span></a>
<span class=hs-linenum>33: </span>
<span class=hs-linenum>34: </span><span class='hs-keyword'>{-@</span> <span class='hs-varid'>set</span> <span class='hs-keyglyph'>::</span> <span class='hs-varid'>addr</span> <span class='hs-conop'>:</span> <span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>v</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>mem</span> <span class='hs-conop'>:</span> <span class='hs-conid'>Mem</span> <span class='hs-varid'>v</span>
<span class=hs-linenum>35: </span>   <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyword'>{ r :</span> <span class='hs-conid'>Mem</span> <span class='hs-varid'>v</span> <span class='hs-keyword'>| memAddrs r == S.union (S.singleton addr) (memAddrs mem) }</span> <span class='hs-keyword'>@-}</span>
<span class=hs-linenum>36: </span><span class='hs-definition'>set</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>v</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Mem</span> <span class='hs-varid'>v</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Mem</span> <span class='hs-varid'>v</span>
<span class=hs-linenum>37: </span><a class=annot href="#"><span class=annottext>forall v .
lq_tmp$x##767:GHC.Types.Int -&gt; lq_tmp$x##768:v -&gt; lq_tmp$x##769:(Memory.Mem v) -&gt; {r : (Memory.Mem v) | Memory.memAddrs r == Set_cup (Set_sng lq_tmp$x##767) (Memory.memAddrs lq_tmp$x##769)}</span><span class='hs-definition'>set</span></a> <a class=annot href="#"><span class=annottext>GHC.Types.Int</span><span class='hs-varid'>addr</span></a> <a class=annot href="#"><span class=annottext>v</span><span class='hs-varid'>val</span></a> <span class='hs-conid'>MEmp</span> <span class='hs-keyglyph'>=</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##786 : (Memory.Mem {lq_tmp$x##789 : v | $k_##788[VV##787:=lq_tmp$x##789]}) | (is$Memory.MEmp lq_tmp$x##786 &lt;=&gt; true)
                                                                                       &amp;&amp; (is$Memory.MCons lq_tmp$x##786 &lt;=&gt; false)
                                                                                       &amp;&amp; Memory.memAddrs lq_tmp$x##786 == Set_empty 0
                                                                                       &amp;&amp; lq_tmp$x##786 == Memory.MEmp
                                                                                       &amp;&amp; lq_tmp$x##786 == Memory.MEmp}</span><span class='hs-conid'>MCons</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##806 : GHC.Types.Int | lq_tmp$x##806 == addr##a3hW}</span><span class='hs-varid'>addr</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##807 : v | lq_tmp$x##807 == val##a3hX}</span><span class='hs-varid'>val</span></a> <a class=annot href="#"><span class=annottext>{VV : forall v .
      {lq_tmp$x##786 : (Memory.Mem v) | (is$Memory.MEmp lq_tmp$x##786 &lt;=&gt; true)
                                        &amp;&amp; (is$Memory.MCons lq_tmp$x##786 &lt;=&gt; false)
                                        &amp;&amp; Memory.memAddrs lq_tmp$x##786 == Set_empty 0
                                        &amp;&amp; lq_tmp$x##786 == Memory.MEmp
                                        &amp;&amp; lq_tmp$x##786 == Memory.MEmp} | VV == Memory.MEmp}</span><span class='hs-conid'>MEmp</span></a>
<span class=hs-linenum>38: </span><span class='hs-definition'>set</span> <span class='hs-varid'>addr</span> <span class='hs-varid'>val</span> <span class='hs-layout'>(</span><span class='hs-conid'>MCons</span> <span class='hs-varid'>addr'</span> <span class='hs-varid'>val'</span> <span class='hs-varid'>mem</span><span class='hs-layout'>)</span>
<span class=hs-linenum>39: </span>  <span class='hs-keyglyph'>|</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##854 : GHC.Types.Int | lq_tmp$x##854 == addr##a3hW}</span><span class='hs-varid'>addr</span></a> <span class='hs-varop'>==</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##855 : GHC.Types.Int | lq_tmp$x##855 == addr'##a3i0}</span><span class='hs-varid'>addr'</span></a> <span class='hs-keyglyph'>=</span> <a class=annot href="#"><span class=annottext>{VV : forall v .
      lq_tmp$x##917:GHC.Types.Int -&gt; lq_tmp$x##918:v -&gt; lq_tmp$x##919:{lq_tmp$x##911 : (Memory.Mem v) | Set_cap (Memory.memAddrs lq_tmp$x##911) (Set_sng lq_tmp$x##917) == Set_empty 0} -&gt; {lq_tmp$x##913 : (Memory.Mem v) | (is$Memory.MEmp lq_tmp$x##913 &lt;=&gt; false)
                                                                                                                                                                                                                             &amp;&amp; Memory.mem lq_tmp$x##913 == lq_tmp$x##919
                                                                                                                                                                                                                             &amp;&amp; Memory.val lq_tmp$x##913 == lq_tmp$x##918
                                                                                                                                                                                                                             &amp;&amp; Memory.addr lq_tmp$x##913 == lq_tmp$x##917
                                                                                                                                                                                                                             &amp;&amp; Memory.mem lq_tmp$x##913 == lq_tmp$x##919
                                                                                                                                                                                                                             &amp;&amp; Memory.val lq_tmp$x##913 == lq_tmp$x##918
                                                                                                                                                                                                                             &amp;&amp; Memory.addr lq_tmp$x##913 == lq_tmp$x##917
                                                                                                                                                                                                                             &amp;&amp; (is$Memory.MCons lq_tmp$x##913 &lt;=&gt; true)
                                                                                                                                                                                                                             &amp;&amp; Memory.memAddrs lq_tmp$x##913 == Set_cup (Set_sng lq_tmp$x##917) (Memory.memAddrs lq_tmp$x##919)
                                                                                                                                                                                                                             &amp;&amp; lq_tmp$x##913 == Memory.MCons lq_tmp$x##917 lq_tmp$x##918 lq_tmp$x##919} | VV == Memory.MCons}</span><span class='hs-conid'>MCons</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##923 : GHC.Types.Int | lq_tmp$x##923 == addr##a3hW}</span><span class='hs-varid'>addr</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##924 : v | lq_tmp$x##924 == val##a3hX}</span><span class='hs-varid'>val</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##926 : (Memory.Mem v) | Set_cap (Memory.memAddrs lq_tmp$x##926) (Set_sng addr'##a3i0) == Set_empty 0
                                  &amp;&amp; lq_tmp$x##926 == mem##a3i2}</span><span class='hs-varid'>mem</span></a>
<span class=hs-linenum>40: </span>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>     <span class='hs-keyglyph'>=</span> <a class=annot href="#"><span class=annottext>{VV : forall v .
      lq_tmp$x##893:GHC.Types.Int -&gt; lq_tmp$x##894:v -&gt; lq_tmp$x##895:{lq_tmp$x##887 : (Memory.Mem v) | Set_cap (Memory.memAddrs lq_tmp$x##887) (Set_sng lq_tmp$x##893) == Set_empty 0} -&gt; {lq_tmp$x##889 : (Memory.Mem v) | (is$Memory.MEmp lq_tmp$x##889 &lt;=&gt; false)
                                                                                                                                                                                                                             &amp;&amp; Memory.mem lq_tmp$x##889 == lq_tmp$x##895
                                                                                                                                                                                                                             &amp;&amp; Memory.val lq_tmp$x##889 == lq_tmp$x##894
                                                                                                                                                                                                                             &amp;&amp; Memory.addr lq_tmp$x##889 == lq_tmp$x##893
                                                                                                                                                                                                                             &amp;&amp; Memory.mem lq_tmp$x##889 == lq_tmp$x##895
                                                                                                                                                                                                                             &amp;&amp; Memory.val lq_tmp$x##889 == lq_tmp$x##894
                                                                                                                                                                                                                             &amp;&amp; Memory.addr lq_tmp$x##889 == lq_tmp$x##893
                                                                                                                                                                                                                             &amp;&amp; (is$Memory.MCons lq_tmp$x##889 &lt;=&gt; true)
                                                                                                                                                                                                                             &amp;&amp; Memory.memAddrs lq_tmp$x##889 == Set_cup (Set_sng lq_tmp$x##893) (Memory.memAddrs lq_tmp$x##895)
                                                                                                                                                                                                                             &amp;&amp; lq_tmp$x##889 == Memory.MCons lq_tmp$x##893 lq_tmp$x##894 lq_tmp$x##895} | VV == Memory.MCons}</span><span class='hs-conid'>MCons</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##899 : GHC.Types.Int | lq_tmp$x##899 == addr'##a3i0}</span><span class='hs-varid'>addr'</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##900 : v | lq_tmp$x##900 == val'##a3i1}</span><span class='hs-varid'>val'</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##869 : (Memory.Mem {lq_tmp$x##878 : v | $k_##877[VV##876:=lq_tmp$x##878][lq_tmp$x##873:=addr##a3hW][lq_tmp$x##874:=val##a3hX][lq_tmp$x##875:=mem##a3i2]}) | Memory.memAddrs lq_tmp$x##869 == Set_cup (Set_sng addr##a3hW) (Memory.memAddrs mem##a3i2)
                                                                                                                                                                      &amp;&amp; lq_tmp$x##869 == Memory.set addr##a3hW val##a3hX mem##a3i2
                                                                                                                                                                      &amp;&amp; lq_tmp$x##869 == (if is$Memory.MEmp mem##a3i2 then Memory.MCons addr##a3hW val##a3hX Memory.MEmp else (if addr##a3hW == Memory.addr mem##a3i2 then Memory.MCons addr##a3hW val##a3hX (Memory.mem mem##a3i2) else Memory.MCons (Memory.addr mem##a3i2) (Memory.val mem##a3i2) (Memory.set addr##a3hW val##a3hX (Memory.mem mem##a3i2))))
                                                                                                                                                                      &amp;&amp; lq_tmp$x##869 == Memory.set addr##a3hW val##a3hX mem##a3i2}</span><span class='hs-layout'>(</span></a><span class='hs-varid'>set</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##879 : GHC.Types.Int | lq_tmp$x##879 == addr##a3hW}</span><span class='hs-varid'>addr</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##880 : v | lq_tmp$x##880 == val##a3hX}</span><span class='hs-varid'>val</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##882 : (Memory.Mem v) | Set_cap (Memory.memAddrs lq_tmp$x##882) (Set_sng addr'##a3i0) == Set_empty 0
                                  &amp;&amp; lq_tmp$x##882 == mem##a3i2}</span><span class='hs-varid'>mem</span></a><span class='hs-layout'>)</span>
<span class=hs-linenum>41: </span>
<span class=hs-linenum>42: </span><span class='hs-keyword'>{-@</span> <span class='hs-varid'>unset</span> <span class='hs-keyglyph'>::</span> <span class='hs-varid'>addr</span> <span class='hs-conop'>:</span> <span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-varid'>mem</span> <span class='hs-conop'>:</span> <span class='hs-conid'>Mem</span> <span class='hs-varid'>v</span>
<span class=hs-linenum>43: </span>  <span class='hs-keyglyph'>-&gt;</span> <span class='hs-keyword'>{ r :</span> <span class='hs-conid'>Mem</span> <span class='hs-varid'>v</span> <span class='hs-keyword'>| memAddrs r == S.difference (memAddrs mem) (S.singleton addr) }</span> <span class='hs-keyword'>@-}</span>
<span class=hs-linenum>44: </span><span class='hs-definition'>unset</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Mem</span> <span class='hs-varid'>v</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Mem</span> <span class='hs-varid'>v</span>
<span class=hs-linenum>45: </span><a class=annot href="#"><span class=annottext>forall v .
lq_tmp$x##930:GHC.Types.Int -&gt; lq_tmp$x##931:(Memory.Mem v) -&gt; {r : (Memory.Mem v) | Memory.memAddrs r == Set_dif (Memory.memAddrs lq_tmp$x##931) (Set_sng lq_tmp$x##930)}</span><span class='hs-definition'>unset</span></a> <a class=annot href="#"><span class=annottext>GHC.Types.Int</span><span class='hs-varid'>addr</span></a> <span class='hs-conid'>MEmp</span> <span class='hs-keyglyph'>=</span> <a class=annot href="#"><span class=annottext>{VV : forall v .
      {lq_tmp$x##947 : (Memory.Mem v) | (is$Memory.MEmp lq_tmp$x##947 &lt;=&gt; true)
                                        &amp;&amp; (is$Memory.MCons lq_tmp$x##947 &lt;=&gt; false)
                                        &amp;&amp; Memory.memAddrs lq_tmp$x##947 == Set_empty 0
                                        &amp;&amp; lq_tmp$x##947 == Memory.MEmp
                                        &amp;&amp; lq_tmp$x##947 == Memory.MEmp} | VV == Memory.MEmp}</span><span class='hs-conid'>MEmp</span></a>
<span class=hs-linenum>46: </span><span class='hs-definition'>unset</span> <span class='hs-varid'>addr</span> <span class='hs-layout'>(</span><span class='hs-conid'>MCons</span> <span class='hs-varid'>addr'</span> <span class='hs-varid'>val'</span> <span class='hs-varid'>mem</span><span class='hs-layout'>)</span>
<span class=hs-linenum>47: </span>  <span class='hs-keyglyph'>|</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##995 : GHC.Types.Int | lq_tmp$x##995 == addr##a3i3}</span><span class='hs-varid'>addr</span></a> <span class='hs-varop'>==</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##996 : GHC.Types.Int | lq_tmp$x##996 == addr'##a3i5}</span><span class='hs-varid'>addr'</span></a> <span class='hs-keyglyph'>=</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1046 : (Memory.Mem v) | Set_cap (Memory.memAddrs lq_tmp$x##1046) (Set_sng addr'##a3i5) == Set_empty 0
                                   &amp;&amp; lq_tmp$x##1046 == mem##a3i7}</span><span class='hs-varid'>mem</span></a>
<span class=hs-linenum>48: </span>  <span class='hs-keyglyph'>|</span> <span class='hs-varid'>otherwise</span>     <span class='hs-keyglyph'>=</span> <a class=annot href="#"><span class=annottext>{VV : forall v .
      lq_tmp$x##1030:GHC.Types.Int -&gt; lq_tmp$x##1031:v -&gt; lq_tmp$x##1032:{lq_tmp$x##1024 : (Memory.Mem v) | Set_cap (Memory.memAddrs lq_tmp$x##1024) (Set_sng lq_tmp$x##1030) == Set_empty 0} -&gt; {lq_tmp$x##1026 : (Memory.Mem v) | (is$Memory.MEmp lq_tmp$x##1026 &lt;=&gt; false)
                                                                                                                                                                                                                                    &amp;&amp; Memory.mem lq_tmp$x##1026 == lq_tmp$x##1032
                                                                                                                                                                                                                                    &amp;&amp; Memory.val lq_tmp$x##1026 == lq_tmp$x##1031
                                                                                                                                                                                                                                    &amp;&amp; Memory.addr lq_tmp$x##1026 == lq_tmp$x##1030
                                                                                                                                                                                                                                    &amp;&amp; Memory.mem lq_tmp$x##1026 == lq_tmp$x##1032
                                                                                                                                                                                                                                    &amp;&amp; Memory.val lq_tmp$x##1026 == lq_tmp$x##1031
                                                                                                                                                                                                                                    &amp;&amp; Memory.addr lq_tmp$x##1026 == lq_tmp$x##1030
                                                                                                                                                                                                                                    &amp;&amp; (is$Memory.MCons lq_tmp$x##1026 &lt;=&gt; true)
                                                                                                                                                                                                                                    &amp;&amp; Memory.memAddrs lq_tmp$x##1026 == Set_cup (Set_sng lq_tmp$x##1030) (Memory.memAddrs lq_tmp$x##1032)
                                                                                                                                                                                                                                    &amp;&amp; lq_tmp$x##1026 == Memory.MCons lq_tmp$x##1030 lq_tmp$x##1031 lq_tmp$x##1032} | VV == Memory.MCons}</span><span class='hs-conid'>MCons</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1036 : GHC.Types.Int | lq_tmp$x##1036 == addr'##a3i5}</span><span class='hs-varid'>addr'</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1037 : v | lq_tmp$x##1037 == val'##a3i6}</span><span class='hs-varid'>val'</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1009 : (Memory.Mem {lq_tmp$x##1016 : v | $k_##1015[VV##1014:=lq_tmp$x##1016][lq_tmp$x##1012:=addr##a3i3][lq_tmp$x##1013:=mem##a3i7]}) | Memory.memAddrs lq_tmp$x##1009 == Set_dif (Memory.memAddrs mem##a3i7) (Set_sng addr##a3i3)
                                                                                                                                                   &amp;&amp; lq_tmp$x##1009 == Memory.unset addr##a3i3 mem##a3i7
                                                                                                                                                   &amp;&amp; lq_tmp$x##1009 == (if is$Memory.MEmp mem##a3i7 then Memory.MEmp else (if addr##a3i3 == Memory.addr mem##a3i7 then Memory.mem mem##a3i7 else Memory.MCons (Memory.addr mem##a3i7) (Memory.val mem##a3i7) (Memory.unset addr##a3i3 (Memory.mem mem##a3i7))))
                                                                                                                                                   &amp;&amp; lq_tmp$x##1009 == Memory.unset addr##a3i3 mem##a3i7}</span><span class='hs-layout'>(</span></a><span class='hs-varid'>unset</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1017 : GHC.Types.Int | lq_tmp$x##1017 == addr##a3i3}</span><span class='hs-varid'>addr</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1019 : (Memory.Mem v) | Set_cap (Memory.memAddrs lq_tmp$x##1019) (Set_sng addr'##a3i5) == Set_empty 0
                                   &amp;&amp; lq_tmp$x##1019 == mem##a3i7}</span><span class='hs-varid'>mem</span></a><span class='hs-layout'>)</span></pre>
</body>
</html>