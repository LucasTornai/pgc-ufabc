<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html>
<head>
<title>SExec.hs</title>
</head>
<head>
<link type='text/css' rel='stylesheet' href='liquid.css' />
</head>

<body>
<hr>
Put mouse over identifiers to see inferred types
<pre><span class=hs-linenum> 1: </span><a class=annot href="#"><span class=annottext>{VV##711 : GHC.Types.Module | $k_##712}</span><span class='hs-keyword'>{-@</span></a> <span class='hs-conid'>LIQUID</span> <span class='hs-str'>"--reflection"</span> <span class='hs-keyword'>@-}</span>
<span class=hs-linenum> 2: </span><span class='hs-keyword'>{-@</span> <span class='hs-conid'>LIQUID</span> <span class='hs-str'>"--ple"</span>        <span class='hs-keyword'>@-}</span>
<span class=hs-linenum> 3: </span><span class='hs-comment'>{- LIQUID "--no-totality"        @-}</span>
<span class=hs-linenum> 4: </span>
<span class=hs-linenum> 5: </span><span class='hs-keyword'>module</span> <span class='hs-conid'>SExec</span> <span class='hs-keyword'>where</span>
<span class=hs-linenum> 6: </span>
<span class=hs-linenum> 7: </span><span class='hs-keyword'>import</span> <span class='hs-conid'>Memory</span>
<span class=hs-linenum> 8: </span><span class='hs-keyword'>import</span> <span class='hs-keyword'>qualified</span> <span class='hs-conid'>Data.Set</span> <span class='hs-keyword'>as</span> <span class='hs-conid'>S</span> 
<span class=hs-linenum> 9: </span>
<span class=hs-linenum>10: </span><span class='hs-keyword'>type</span> <span class='hs-conid'>Acc</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Int</span> 
<span class=hs-linenum>11: </span><span class='hs-keyword'>type</span> <span class='hs-conid'>Reg</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Int</span> 
<span class=hs-linenum>12: </span><span class='hs-keyword'>type</span> <span class='hs-conid'>Config</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-conid'>Acc</span><span class='hs-layout'>,</span> <span class='hs-conid'>Mem</span> <span class='hs-conid'>Reg</span><span class='hs-layout'>)</span> 
<span class=hs-linenum>13: </span>
<span class=hs-linenum>14: </span><span class='hs-keyword'>data</span> <span class='hs-conid'>Code</span> 
<span class=hs-linenum>15: </span>  <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Load</span> <span class='hs-conid'>Int</span> <span class='hs-conid'>Code</span> 
<span class=hs-linenum>16: </span>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Store</span> <span class='hs-conid'>Reg</span> <span class='hs-conid'>Code</span> 
<span class=hs-linenum>17: </span>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Add</span>   <span class='hs-conid'>Reg</span> <span class='hs-conid'>Code</span> 
<span class=hs-linenum>18: </span>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Free</span>  <span class='hs-conid'>Reg</span> <span class='hs-conid'>Code</span> 
<span class=hs-linenum>19: </span>  <span class='hs-keyglyph'>|</span> <span class='hs-conid'>Halt</span> 
<span class=hs-linenum>20: </span>
<span class=hs-linenum>21: </span><span class='hs-keyword'>{-@</span> <span class='hs-varid'>exec</span> <span class='hs-keyglyph'>::</span> <span class='hs-varid'>c</span><span class='hs-conop'>:</span><span class='hs-conid'>Code</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-layout'>(</span><span class='hs-varid'>a</span><span class='hs-keyglyph'>::</span><span class='hs-conid'>Acc</span><span class='hs-layout'>,</span> <span class='hs-keyword'>{m:</span><span class='hs-conid'>Mem</span> <span class='hs-conid'>Int</span> <span class='hs-keyword'>| validMem m c a}</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Config</span> <span class='hs-keyword'>@-}</span>
<span class=hs-linenum>22: </span><span class='hs-definition'>exec</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Code</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Config</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Config</span>
<span class=hs-linenum>23: </span><a class=annot href="#"><span class=annottext>lq_tmp$x##1355:SExec.Code -&gt; lq_tmp$x##1356:(GHC.Types.Int, (Memory.Mem GHC.Types.Int))&lt;\lq_tmp$x##1357 VV -&gt; {m : (Memory.Mem GHC.Types.Int) | SExec.validMem m lq_tmp$x##1355 lq_tmp$x##1357}&gt; -&gt; (GHC.Types.Int, (Memory.Mem GHC.Types.Int))</span><span class='hs-definition'>exec</span></a> <span class='hs-layout'>(</span><span class='hs-conid'>Load</span> <span class='hs-varid'>n</span> <span class='hs-varid'>c</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>a</span><span class='hs-layout'>,</span><span class='hs-varid'>m</span><span class='hs-layout'>)</span>  <span class='hs-keyglyph'>=</span> <a class=annot href="#"><span class=annottext>lq_tmp$x##1355:SExec.Code -&gt; lq_tmp$x##1356:(GHC.Types.Int, (Memory.Mem GHC.Types.Int))&lt;\lq_tmp$x##1357 VV -&gt; {m : (Memory.Mem GHC.Types.Int) | SExec.validMem m lq_tmp$x##1355 lq_tmp$x##1357}&gt; -&gt; (GHC.Types.Int, (Memory.Mem GHC.Types.Int))</span><span class='hs-varid'>exec</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1476 : SExec.Code | lq_tmp$x##1476 == c##a4w2}</span><span class='hs-varid'>c</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1429 : ({lq_tmp$x##1437 : GHC.Types.Int | $k_##1436[VV##1435:=lq_tmp$x##1437][lq_tmp$x##1432:=n##a4w1][lq_tmp$x##1433:=m##a4w4]}, {lq_tmp$x##1443 : (Memory.Mem {lq_tmp$x##1442 : GHC.Types.Int | $k_##1439[VV##1438:=lq_tmp$x##1442][VV##1440:=lq_tmp$x##1443][lq_tmp$x##1432:=n##a4w1][lq_tmp$x##1433:=m##a4w4]}) | $k_##1441[VV##1440:=lq_tmp$x##1443][lq_tmp$x##1432:=n##a4w1][lq_tmp$x##1433:=m##a4w4]})&lt;\lq_tmp$x##1434 VV -&gt; {lq_tmp$x##1443 : (Memory.Mem {lq_tmp$x##1442 : GHC.Types.Int | $k_##1445[VV##1444:=lq_tmp$x##1442][VV##1446:=lq_tmp$x##1443][lq_tmp$x##1432:=n##a4w1][lq_tmp$x##1433:=m##a4w4][lq_tmp$x##1448:=lq_tmp$x##1434]}) | $k_##1447[VV##1446:=lq_tmp$x##1443][lq_tmp$x##1432:=n##a4w1][lq_tmp$x##1433:=m##a4w4][lq_tmp$x##1448:=lq_tmp$x##1434]}&gt; | x_Tuple22 lq_tmp$x##1429 == m##a4w4
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             &amp;&amp; x_Tuple21 lq_tmp$x##1429 == n##a4w1
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             &amp;&amp; lqdc##$select##GHC.Tuple.(,)##2 lq_tmp$x##1429 == m##a4w4
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             &amp;&amp; lqdc##$select##GHC.Tuple.(,)##1 lq_tmp$x##1429 == n##a4w1
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             &amp;&amp; (is$GHC.Tuple.(,) lq_tmp$x##1429 &lt;=&gt; true)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             &amp;&amp; snd lq_tmp$x##1429 == m##a4w4
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             &amp;&amp; fst lq_tmp$x##1429 == n##a4w1
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             &amp;&amp; lq_tmp$x##1429 == GHC.Tuple.(,) n##a4w1 m##a4w4
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             &amp;&amp; lq_tmp$x##1429 == GHC.Tuple.(,) n##a4w1 m##a4w4}</span><span class='hs-layout'>(</span></a><a class=annot href="#"><span class=annottext>{lq_tmp$x##1450 : GHC.Types.Int | lq_tmp$x##1450 == n##a4w1}</span><span class='hs-varid'>n</span></a><span class='hs-layout'>,</span><a class=annot href="#"><span class=annottext>{lq_tmp$x##1452 : (Memory.Mem GHC.Types.Int) | SExec.validMem lq_tmp$x##1452 ds_d4yZ a##a4w3
                                               &amp;&amp; lq_tmp$x##1452 == m##a4w4}</span><span class='hs-varid'>m</span></a><span class='hs-layout'>)</span>  
<span class=hs-linenum>24: </span><span class='hs-definition'>exec</span> <span class='hs-layout'>(</span><span class='hs-conid'>Store</span> <span class='hs-varid'>r</span> <span class='hs-varid'>c</span><span class='hs-layout'>)</span> <span class='hs-layout'>(</span><span class='hs-varid'>a</span><span class='hs-layout'>,</span><span class='hs-varid'>m</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <a class=annot href="#"><span class=annottext>lq_tmp$x##1355:SExec.Code -&gt; lq_tmp$x##1356:(GHC.Types.Int, (Memory.Mem GHC.Types.Int))&lt;\lq_tmp$x##1357 VV -&gt; {m : (Memory.Mem GHC.Types.Int) | SExec.validMem m lq_tmp$x##1355 lq_tmp$x##1357}&gt; -&gt; (GHC.Types.Int, (Memory.Mem GHC.Types.Int))</span><span class='hs-varid'>exec</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1617 : SExec.Code | lq_tmp$x##1617 == c##a4w6}</span><span class='hs-varid'>c</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1570 : ({lq_tmp$x##1578 : GHC.Types.Int | $k_##1577[VV##1576:=lq_tmp$x##1578][lq_tmp$x##1573:=a##a4w7][lq_tmp$x##1574:=lq_anf$##7205759403792811256##d4AM]}, {lq_tmp$x##1584 : (Memory.Mem {lq_tmp$x##1583 : GHC.Types.Int | $k_##1580[VV##1579:=lq_tmp$x##1583][VV##1581:=lq_tmp$x##1584][lq_tmp$x##1573:=a##a4w7][lq_tmp$x##1574:=lq_anf$##7205759403792811256##d4AM]}) | $k_##1582[VV##1581:=lq_tmp$x##1584][lq_tmp$x##1573:=a##a4w7][lq_tmp$x##1574:=lq_anf$##7205759403792811256##d4AM]})&lt;\lq_tmp$x##1575 VV -&gt; {lq_tmp$x##1584 : (Memory.Mem {lq_tmp$x##1583 : GHC.Types.Int | $k_##1586[VV##1585:=lq_tmp$x##1583][VV##1587:=lq_tmp$x##1584][lq_tmp$x##1573:=a##a4w7][lq_tmp$x##1574:=lq_anf$##7205759403792811256##d4AM][lq_tmp$x##1589:=lq_tmp$x##1575]}) | $k_##1588[VV##1587:=lq_tmp$x##1584][lq_tmp$x##1573:=a##a4w7][lq_tmp$x##1574:=lq_anf$##7205759403792811256##d4AM][lq_tmp$x##1589:=lq_tmp$x##1575]}&gt; | x_Tuple22 lq_tmp$x##1570 == lq_anf$##7205759403792811256##d4AM
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &amp;&amp; x_Tuple21 lq_tmp$x##1570 == a##a4w7
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &amp;&amp; lqdc##$select##GHC.Tuple.(,)##2 lq_tmp$x##1570 == lq_anf$##7205759403792811256##d4AM
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &amp;&amp; lqdc##$select##GHC.Tuple.(,)##1 lq_tmp$x##1570 == a##a4w7
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &amp;&amp; (is$GHC.Tuple.(,) lq_tmp$x##1570 &lt;=&gt; true)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &amp;&amp; snd lq_tmp$x##1570 == lq_anf$##7205759403792811256##d4AM
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &amp;&amp; fst lq_tmp$x##1570 == a##a4w7
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &amp;&amp; lq_tmp$x##1570 == GHC.Tuple.(,) a##a4w7 lq_anf$##7205759403792811256##d4AM
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &amp;&amp; lq_tmp$x##1570 == GHC.Tuple.(,) a##a4w7 lq_anf$##7205759403792811256##d4AM}</span><span class='hs-layout'>(</span></a><a class=annot href="#"><span class=annottext>{lq_tmp$x##1591 : GHC.Types.Int | lq_tmp$x##1591 == a##a4w7}</span><span class='hs-varid'>a</span></a><span class='hs-layout'>,</span><a class=annot href="#"><span class=annottext>{lq_tmp$x##1549 : (Memory.Mem {lq_tmp$x##1558 : GHC.Types.Int | $k_##1557[VV##1556:=lq_tmp$x##1558][lq_tmp$x##1553:=r##a4w5][lq_tmp$x##1554:=a##a4w7][lq_tmp$x##1555:=m##a4w8]}) | Memory.memAddrs lq_tmp$x##1549 == Set_cup (Set_sng r##a4w5) (Memory.memAddrs m##a4w8)
                                                                                                                                                                                   &amp;&amp; lq_tmp$x##1549 == Memory.set r##a4w5 a##a4w7 m##a4w8
                                                                                                                                                                                   &amp;&amp; lq_tmp$x##1549 == (if is$Memory.MEmp m##a4w8 then Memory.MCons r##a4w5 a##a4w7 Memory.MEmp else (if r##a4w5 == Memory.addr m##a4w8 then Memory.MCons r##a4w5 a##a4w7 (Memory.mem m##a4w8) else Memory.MCons (Memory.addr m##a4w8) (Memory.val m##a4w8) (Memory.set r##a4w5 a##a4w7 (Memory.mem m##a4w8))))
                                                                                                                                                                                   &amp;&amp; lq_tmp$x##1549 == Memory.set r##a4w5 a##a4w7 m##a4w8}</span><span class='hs-varid'>set</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1559 : GHC.Types.Int | lq_tmp$x##1559 == r##a4w5}</span><span class='hs-varid'>r</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1560 : GHC.Types.Int | lq_tmp$x##1560 == a##a4w7}</span><span class='hs-varid'>a</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1562 : (Memory.Mem GHC.Types.Int) | SExec.validMem lq_tmp$x##1562 ds_d4yZ a##a4w7
                                               &amp;&amp; lq_tmp$x##1562 == m##a4w8}</span><span class='hs-varid'>m</span></a><span class='hs-layout'>)</span> 
<span class=hs-linenum>25: </span><span class='hs-definition'>exec</span> <span class='hs-layout'>(</span><span class='hs-conid'>Add</span> <span class='hs-varid'>r</span> <span class='hs-varid'>c</span><span class='hs-layout'>)</span>   <span class='hs-layout'>(</span><span class='hs-varid'>a</span><span class='hs-layout'>,</span><span class='hs-varid'>m</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <a class=annot href="#"><span class=annottext>lq_tmp$x##1355:SExec.Code -&gt; lq_tmp$x##1356:(GHC.Types.Int, (Memory.Mem GHC.Types.Int))&lt;\lq_tmp$x##1357 VV -&gt; {m : (Memory.Mem GHC.Types.Int) | SExec.validMem m lq_tmp$x##1355 lq_tmp$x##1357}&gt; -&gt; (GHC.Types.Int, (Memory.Mem GHC.Types.Int))</span><span class='hs-varid'>exec</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1763 : SExec.Code | lq_tmp$x##1763 == c##a4wa}</span><span class='hs-varid'>c</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1716 : ({lq_tmp$x##1724 : GHC.Types.Int | $k_##1723[VV##1722:=lq_tmp$x##1724][lq_tmp$x##1719:=lq_anf$##7205759403792811260##d4AQ][lq_tmp$x##1720:=m##a4wc]}, {lq_tmp$x##1730 : (Memory.Mem {lq_tmp$x##1729 : GHC.Types.Int | $k_##1726[VV##1725:=lq_tmp$x##1729][VV##1727:=lq_tmp$x##1730][lq_tmp$x##1719:=lq_anf$##7205759403792811260##d4AQ][lq_tmp$x##1720:=m##a4wc]}) | $k_##1728[VV##1727:=lq_tmp$x##1730][lq_tmp$x##1719:=lq_anf$##7205759403792811260##d4AQ][lq_tmp$x##1720:=m##a4wc]})&lt;\lq_tmp$x##1721 VV -&gt; {lq_tmp$x##1730 : (Memory.Mem {lq_tmp$x##1729 : GHC.Types.Int | $k_##1732[VV##1731:=lq_tmp$x##1729][VV##1733:=lq_tmp$x##1730][lq_tmp$x##1719:=lq_anf$##7205759403792811260##d4AQ][lq_tmp$x##1720:=m##a4wc][lq_tmp$x##1735:=lq_tmp$x##1721]}) | $k_##1734[VV##1733:=lq_tmp$x##1730][lq_tmp$x##1719:=lq_anf$##7205759403792811260##d4AQ][lq_tmp$x##1720:=m##a4wc][lq_tmp$x##1735:=lq_tmp$x##1721]}&gt; | x_Tuple22 lq_tmp$x##1716 == m##a4wc
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &amp;&amp; x_Tuple21 lq_tmp$x##1716 == lq_anf$##7205759403792811260##d4AQ
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &amp;&amp; lqdc##$select##GHC.Tuple.(,)##2 lq_tmp$x##1716 == m##a4wc
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &amp;&amp; lqdc##$select##GHC.Tuple.(,)##1 lq_tmp$x##1716 == lq_anf$##7205759403792811260##d4AQ
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &amp;&amp; (is$GHC.Tuple.(,) lq_tmp$x##1716 &lt;=&gt; true)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &amp;&amp; snd lq_tmp$x##1716 == m##a4wc
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &amp;&amp; fst lq_tmp$x##1716 == lq_anf$##7205759403792811260##d4AQ
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &amp;&amp; lq_tmp$x##1716 == GHC.Tuple.(,) lq_anf$##7205759403792811260##d4AQ m##a4wc
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &amp;&amp; lq_tmp$x##1716 == GHC.Tuple.(,) lq_anf$##7205759403792811260##d4AQ m##a4wc}</span><span class='hs-layout'>(</span></a><a class=annot href="#"><span class=annottext>{lq_tmp$x##1707 : GHC.Types.Int | lq_tmp$x##1707 == a##a4wb}</span><span class='hs-varid'>a</span></a> <span class='hs-varop'>`add`</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1695 : GHC.Types.Int | $k_##1694[VV##1693:=lq_tmp$x##1695][lq_tmp$x##1691:=r##a4w9][lq_tmp$x##1692:=m##a4wc]
                                  &amp;&amp; lq_tmp$x##1695 == Memory.get r##a4w9 m##a4wc
                                  &amp;&amp; lq_tmp$x##1695 == (if r##a4w9 == Memory.addr m##a4wc then Memory.val m##a4wc else Memory.get r##a4w9 (Memory.mem m##a4wc))
                                  &amp;&amp; lq_tmp$x##1695 == Memory.get r##a4w9 m##a4wc}</span><span class='hs-varid'>get</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1696 : GHC.Types.Int | lq_tmp$x##1696 == r##a4w9}</span><span class='hs-varid'>r</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1698 : (Memory.Mem GHC.Types.Int) | SExec.validMem lq_tmp$x##1698 ds_d4yZ a##a4wb
                                               &amp;&amp; lq_tmp$x##1698 == m##a4wc}</span><span class='hs-varid'>m</span></a> <span class='hs-layout'>,</span><a class=annot href="#"><span class=annottext>{lq_tmp$x##1739 : (Memory.Mem GHC.Types.Int) | SExec.validMem lq_tmp$x##1739 ds_d4yZ a##a4wb
                                               &amp;&amp; lq_tmp$x##1739 == m##a4wc}</span><span class='hs-varid'>m</span></a><span class='hs-layout'>)</span> 
<span class=hs-linenum>26: </span><span class='hs-definition'>exec</span> <span class='hs-layout'>(</span><span class='hs-conid'>Free</span> <span class='hs-varid'>r</span> <span class='hs-varid'>c</span><span class='hs-layout'>)</span>  <span class='hs-layout'>(</span><span class='hs-varid'>a</span><span class='hs-layout'>,</span><span class='hs-varid'>m</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <a class=annot href="#"><span class=annottext>lq_tmp$x##1355:SExec.Code -&gt; lq_tmp$x##1356:(GHC.Types.Int, (Memory.Mem GHC.Types.Int))&lt;\lq_tmp$x##1357 VV -&gt; {m : (Memory.Mem GHC.Types.Int) | SExec.validMem m lq_tmp$x##1355 lq_tmp$x##1357}&gt; -&gt; (GHC.Types.Int, (Memory.Mem GHC.Types.Int))</span><span class='hs-varid'>exec</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1900 : SExec.Code | lq_tmp$x##1900 == c##a4we}</span><span class='hs-varid'>c</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1853 : ({lq_tmp$x##1861 : GHC.Types.Int | $k_##1860[VV##1859:=lq_tmp$x##1861][lq_tmp$x##1856:=a##a4wf][lq_tmp$x##1857:=lq_anf$##7205759403792811263##d4AT]}, {lq_tmp$x##1867 : (Memory.Mem {lq_tmp$x##1866 : GHC.Types.Int | $k_##1863[VV##1862:=lq_tmp$x##1866][VV##1864:=lq_tmp$x##1867][lq_tmp$x##1856:=a##a4wf][lq_tmp$x##1857:=lq_anf$##7205759403792811263##d4AT]}) | $k_##1865[VV##1864:=lq_tmp$x##1867][lq_tmp$x##1856:=a##a4wf][lq_tmp$x##1857:=lq_anf$##7205759403792811263##d4AT]})&lt;\lq_tmp$x##1858 VV -&gt; {lq_tmp$x##1867 : (Memory.Mem {lq_tmp$x##1866 : GHC.Types.Int | $k_##1869[VV##1868:=lq_tmp$x##1866][VV##1870:=lq_tmp$x##1867][lq_tmp$x##1856:=a##a4wf][lq_tmp$x##1857:=lq_anf$##7205759403792811263##d4AT][lq_tmp$x##1872:=lq_tmp$x##1858]}) | $k_##1871[VV##1870:=lq_tmp$x##1867][lq_tmp$x##1856:=a##a4wf][lq_tmp$x##1857:=lq_anf$##7205759403792811263##d4AT][lq_tmp$x##1872:=lq_tmp$x##1858]}&gt; | x_Tuple22 lq_tmp$x##1853 == lq_anf$##7205759403792811263##d4AT
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &amp;&amp; x_Tuple21 lq_tmp$x##1853 == a##a4wf
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &amp;&amp; lqdc##$select##GHC.Tuple.(,)##2 lq_tmp$x##1853 == lq_anf$##7205759403792811263##d4AT
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &amp;&amp; lqdc##$select##GHC.Tuple.(,)##1 lq_tmp$x##1853 == a##a4wf
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &amp;&amp; (is$GHC.Tuple.(,) lq_tmp$x##1853 &lt;=&gt; true)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &amp;&amp; snd lq_tmp$x##1853 == lq_anf$##7205759403792811263##d4AT
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &amp;&amp; fst lq_tmp$x##1853 == a##a4wf
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &amp;&amp; lq_tmp$x##1853 == GHC.Tuple.(,) a##a4wf lq_anf$##7205759403792811263##d4AT
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    &amp;&amp; lq_tmp$x##1853 == GHC.Tuple.(,) a##a4wf lq_anf$##7205759403792811263##d4AT}</span><span class='hs-layout'>(</span></a><a class=annot href="#"><span class=annottext>{lq_tmp$x##1874 : GHC.Types.Int | lq_tmp$x##1874 == a##a4wf}</span><span class='hs-varid'>a</span></a><span class='hs-layout'>,</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1835 : (Memory.Mem {lq_tmp$x##1842 : GHC.Types.Int | $k_##1841[VV##1840:=lq_tmp$x##1842][lq_tmp$x##1838:=r##a4wd][lq_tmp$x##1839:=m##a4wg]}) | Memory.memAddrs lq_tmp$x##1835 == Set_dif (Memory.memAddrs m##a4wg) (Set_sng r##a4wd)
                                                                                                                                                          &amp;&amp; lq_tmp$x##1835 == Memory.unset r##a4wd m##a4wg
                                                                                                                                                          &amp;&amp; lq_tmp$x##1835 == (if is$Memory.MEmp m##a4wg then Memory.MEmp else (if r##a4wd == Memory.addr m##a4wg then Memory.mem m##a4wg else Memory.MCons (Memory.addr m##a4wg) (Memory.val m##a4wg) (Memory.unset r##a4wd (Memory.mem m##a4wg))))
                                                                                                                                                          &amp;&amp; lq_tmp$x##1835 == Memory.unset r##a4wd m##a4wg}</span><span class='hs-varid'>unset</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1843 : GHC.Types.Int | lq_tmp$x##1843 == r##a4wd}</span><span class='hs-varid'>r</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1845 : (Memory.Mem GHC.Types.Int) | SExec.validMem lq_tmp$x##1845 ds_d4yZ a##a4wf
                                               &amp;&amp; lq_tmp$x##1845 == m##a4wg}</span><span class='hs-varid'>m</span></a><span class='hs-layout'>)</span>
<span class=hs-linenum>27: </span><span class='hs-definition'>exec</span> <span class='hs-conid'>Halt</span>        <span class='hs-layout'>(</span><span class='hs-varid'>a</span><span class='hs-layout'>,</span><span class='hs-varid'>m</span><span class='hs-layout'>)</span> <span class='hs-keyglyph'>=</span> <a class=annot href="#"><span class=annottext>{VV : forall a b &lt;p2 :: a b -&gt; Bool&gt;.
      lq_tmp$x##1965:a -&gt; lq_tmp$x##1966:{lq_tmp$x##1957 : b&lt;p2 lq_tmp$x##1965&gt; | true} -&gt; {lq_tmp$x##1962 : (a, b)&lt;\lq_tmp$x##1967 VV -&gt; {lq_tmp$x##1961 : b&lt;p2 lq_tmp$x##1967&gt; | true}&gt; | x_Tuple22 lq_tmp$x##1962 == lq_tmp$x##1966
                                                                                                                                                                                            &amp;&amp; x_Tuple21 lq_tmp$x##1962 == lq_tmp$x##1965
                                                                                                                                                                                            &amp;&amp; lqdc##$select##GHC.Tuple.(,)##2 lq_tmp$x##1962 == lq_tmp$x##1966
                                                                                                                                                                                            &amp;&amp; lqdc##$select##GHC.Tuple.(,)##1 lq_tmp$x##1962 == lq_tmp$x##1965
                                                                                                                                                                                            &amp;&amp; (is$GHC.Tuple.(,) lq_tmp$x##1962 &lt;=&gt; true)
                                                                                                                                                                                            &amp;&amp; snd lq_tmp$x##1962 == lq_tmp$x##1966
                                                                                                                                                                                            &amp;&amp; fst lq_tmp$x##1962 == lq_tmp$x##1965
                                                                                                                                                                                            &amp;&amp; lq_tmp$x##1962 == GHC.Tuple.(,) lq_tmp$x##1965 lq_tmp$x##1966} | VV == GHC.Tuple.(,)}</span><span class='hs-layout'>(</span></a><a class=annot href="#"><span class=annottext>{lq_tmp$x##1983 : GHC.Types.Int | lq_tmp$x##1983 == a##a4wh}</span><span class='hs-varid'>a</span></a><span class='hs-layout'>,</span><a class=annot href="#"><span class=annottext>{lq_tmp$x##1985 : (Memory.Mem GHC.Types.Int) | SExec.validMem lq_tmp$x##1985 ds_d4yZ a##a4wh
                                               &amp;&amp; lq_tmp$x##1985 == m##a4wi}</span><span class='hs-varid'>m</span></a><span class='hs-layout'>)</span> 
<span class=hs-linenum>28: </span>
<span class=hs-linenum>29: </span>
<span class=hs-linenum>30: </span><span class='hs-keyword'>{-@</span> <span class='hs-varid'>reflect</span> <span class='hs-varid'>validMem</span> <span class='hs-keyword'>@-}</span>
<span class=hs-linenum>31: </span><span class='hs-definition'>validMem</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Mem</span> <span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Code</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Acc</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Bool</span> 
<span class=hs-linenum>32: </span><a class=annot href="#"><span class=annottext>lq_tmp$x##1098:(Memory.Mem GHC.Types.Int) -&gt; lq_tmp$x##1099:SExec.Code -&gt; lq_tmp$x##1100:GHC.Types.Int -&gt; {VV : GHC.Types.Bool | VV == SExec.validMem lq_tmp$x##1098 lq_tmp$x##1099 lq_tmp$x##1100
                                                                                                                                 &amp;&amp; VV == (if is$SExec.Load lq_tmp$x##1099 then SExec.validMem lq_tmp$x##1098 (SExec.Load##lqdc##$select##SExec.Load##2 lq_tmp$x##1099) (SExec.Load##lqdc##$select##SExec.Load##1 lq_tmp$x##1099) else (if is$SExec.Store lq_tmp$x##1099 then SExec.validMem (Memory.set (SExec.Store##lqdc##$select##SExec.Store##1 lq_tmp$x##1099) lq_tmp$x##1100 lq_tmp$x##1098) (SExec.Store##lqdc##$select##SExec.Store##2 lq_tmp$x##1099) lq_tmp$x##1100 else (if is$SExec.Add lq_tmp$x##1099 then (if Set_mem (SExec.Add##lqdc##$select##SExec.Add##1 lq_tmp$x##1099) (Memory.memAddrs lq_tmp$x##1098) then SExec.validMem lq_tmp$x##1098 (SExec.Add##lqdc##$select##SExec.Add##2 lq_tmp$x##1099) (SExec.add lq_tmp$x##1100 (Memory.get (SExec.Add##lqdc##$select##SExec.Add##1 lq_tmp$x##1099) lq_tmp$x##1098)) else false) else (if is$SExec.Free lq_tmp$x##1099 then SExec.validMem (Memory.unset (SExec.Free##lqdc##$select##SExec.Free##1 lq_tmp$x##1099) lq_tmp$x##1098) (SExec.Free##lqdc##$select##SExec.Free##2 lq_tmp$x##1099) lq_tmp$x##1100 else true))))}</span><span class='hs-definition'>validMem</span></a> <a class=annot href="#"><span class=annottext>(Memory.Mem GHC.Types.Int)</span><span class='hs-varid'>m</span></a> <span class='hs-layout'>(</span><span class='hs-conid'>Add</span> <span class='hs-varid'>r</span> <span class='hs-varid'>c</span><span class='hs-layout'>)</span> <a class=annot href="#"><span class=annottext>GHC.Types.Int</span><span class='hs-varid'>a</span></a> <span class='hs-keyglyph'>=</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1244 : GHC.Types.Bool | (lq_tmp$x##1244 &lt;=&gt; Set_mem r##a4wk lq_anf$##7205759403792811246##d4AC)
                                   &amp;&amp; lq_tmp$x##1244 == Data.Set.Internal.member r##a4wk lq_anf$##7205759403792811246##d4AC
                                   &amp;&amp; lq_tmp$x##1244 == Data.Set.Internal.member r##a4wk lq_anf$##7205759403792811246##d4AC
                                   &amp;&amp; lq_tmp$x##1244 == lq_anf$##7205759403792811247##d4AD}</span><span class='hs-keyword'>if</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1228 : GHC.Types.Bool | (lq_tmp$x##1228 &lt;=&gt; Set_mem r##a4wk lq_anf$##7205759403792811246##d4AC)
                                   &amp;&amp; lq_tmp$x##1228 == Data.Set.Internal.member r##a4wk lq_anf$##7205759403792811246##d4AC}</span><span class='hs-conid'>S.member</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1240 : GHC.Types.Int | lq_tmp$x##1240 == r##a4wk}</span><span class='hs-varid'>r</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1214 : (Data.Set.Internal.Set GHC.Types.Int) | lq_tmp$x##1214 == Memory.memAddrs m##a4wj
                                                          &amp;&amp; lq_tmp$x##1214 == Memory.memAddrs m##a4wj}</span><span class='hs-layout'>(</span></a><span class='hs-varid'>memAddrs</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1221 : (Memory.Mem GHC.Types.Int) | lq_tmp$x##1221 == m##a4wj}</span><span class='hs-varid'>m</span></a><span class='hs-layout'>)</span> <span class='hs-keyword'>then</span> <a class=annot href="#"><span class=annottext>lq_tmp$x##1098:(Memory.Mem GHC.Types.Int) -&gt; lq_tmp$x##1099:SExec.Code -&gt; lq_tmp$x##1100:GHC.Types.Int -&gt; {VV : GHC.Types.Bool | VV == SExec.validMem lq_tmp$x##1098 lq_tmp$x##1099 lq_tmp$x##1100
                                                                                                                                 &amp;&amp; VV == (if is$SExec.Load lq_tmp$x##1099 then SExec.validMem lq_tmp$x##1098 (SExec.Load##lqdc##$select##SExec.Load##2 lq_tmp$x##1099) (SExec.Load##lqdc##$select##SExec.Load##1 lq_tmp$x##1099) else (if is$SExec.Store lq_tmp$x##1099 then SExec.validMem (Memory.set (SExec.Store##lqdc##$select##SExec.Store##1 lq_tmp$x##1099) lq_tmp$x##1100 lq_tmp$x##1098) (SExec.Store##lqdc##$select##SExec.Store##2 lq_tmp$x##1099) lq_tmp$x##1100 else (if is$SExec.Add lq_tmp$x##1099 then (if Set_mem (SExec.Add##lqdc##$select##SExec.Add##1 lq_tmp$x##1099) (Memory.memAddrs lq_tmp$x##1098) then SExec.validMem lq_tmp$x##1098 (SExec.Add##lqdc##$select##SExec.Add##2 lq_tmp$x##1099) (SExec.add lq_tmp$x##1100 (Memory.get (SExec.Add##lqdc##$select##SExec.Add##1 lq_tmp$x##1099) lq_tmp$x##1098)) else false) else (if is$SExec.Free lq_tmp$x##1099 then SExec.validMem (Memory.unset (SExec.Free##lqdc##$select##SExec.Free##1 lq_tmp$x##1099) lq_tmp$x##1098) (SExec.Free##lqdc##$select##SExec.Free##2 lq_tmp$x##1099) lq_tmp$x##1100 else true))))}</span><span class='hs-varid'>validMem</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1294 : (Memory.Mem GHC.Types.Int) | lq_tmp$x##1294 == m##a4wj}</span><span class='hs-varid'>m</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1295 : SExec.Code | lq_tmp$x##1295 == c##a4wl}</span><span class='hs-varid'>c</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1274 : GHC.Types.Int | lq_tmp$x##1274 == SExec.add a##a4wm lq_anf$##7205759403792811249##d4AF
                                  &amp;&amp; lq_tmp$x##1274 == a##a4wm + lq_anf$##7205759403792811249##d4AF
                                  &amp;&amp; lq_tmp$x##1274 == SExec.add a##a4wm lq_anf$##7205759403792811249##d4AF}</span><span class='hs-layout'>(</span></a><a class=annot href="#"><span class=annottext>{lq_tmp$x##1279 : GHC.Types.Int | lq_tmp$x##1279 == a##a4wm}</span><span class='hs-varid'>a</span></a> <span class='hs-varop'>`add`</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1267 : GHC.Types.Int | $k_##1266[VV##1265:=lq_tmp$x##1267][lq_tmp$x##1263:=r##a4wk][lq_tmp$x##1264:=m##a4wj]
                                  &amp;&amp; lq_tmp$x##1267 == Memory.get r##a4wk m##a4wj
                                  &amp;&amp; lq_tmp$x##1267 == (if r##a4wk == Memory.addr m##a4wj then Memory.val m##a4wj else Memory.get r##a4wk (Memory.mem m##a4wj))
                                  &amp;&amp; lq_tmp$x##1267 == Memory.get r##a4wk m##a4wj}</span><span class='hs-varid'>get</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1268 : GHC.Types.Int | lq_tmp$x##1268 == r##a4wk}</span><span class='hs-varid'>r</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1270 : (Memory.Mem GHC.Types.Int) | lq_tmp$x##1270 == m##a4wj}</span><span class='hs-varid'>m</span></a><span class='hs-layout'>)</span> <span class='hs-keyword'>else</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1251 : GHC.Types.Bool | not lq_tmp$x##1251
                                   &amp;&amp; lq_tmp$x##1251 == GHC.Types.False}</span><span class='hs-conid'>False</span></a>
<span class=hs-linenum>33: </span><span class='hs-definition'>validMem</span> <span class='hs-varid'>m</span> <span class='hs-layout'>(</span><span class='hs-conid'>Load</span> <span class='hs-varid'>n</span> <span class='hs-varid'>c</span><span class='hs-layout'>)</span> <span class='hs-varid'>a</span> <span class='hs-keyglyph'>=</span> <a class=annot href="#"><span class=annottext>lq_tmp$x##1098:(Memory.Mem GHC.Types.Int) -&gt; lq_tmp$x##1099:SExec.Code -&gt; lq_tmp$x##1100:GHC.Types.Int -&gt; {VV : GHC.Types.Bool | VV == SExec.validMem lq_tmp$x##1098 lq_tmp$x##1099 lq_tmp$x##1100
                                                                                                                                 &amp;&amp; VV == (if is$SExec.Load lq_tmp$x##1099 then SExec.validMem lq_tmp$x##1098 (SExec.Load##lqdc##$select##SExec.Load##2 lq_tmp$x##1099) (SExec.Load##lqdc##$select##SExec.Load##1 lq_tmp$x##1099) else (if is$SExec.Store lq_tmp$x##1099 then SExec.validMem (Memory.set (SExec.Store##lqdc##$select##SExec.Store##1 lq_tmp$x##1099) lq_tmp$x##1100 lq_tmp$x##1098) (SExec.Store##lqdc##$select##SExec.Store##2 lq_tmp$x##1099) lq_tmp$x##1100 else (if is$SExec.Add lq_tmp$x##1099 then (if Set_mem (SExec.Add##lqdc##$select##SExec.Add##1 lq_tmp$x##1099) (Memory.memAddrs lq_tmp$x##1098) then SExec.validMem lq_tmp$x##1098 (SExec.Add##lqdc##$select##SExec.Add##2 lq_tmp$x##1099) (SExec.add lq_tmp$x##1100 (Memory.get (SExec.Add##lqdc##$select##SExec.Add##1 lq_tmp$x##1099) lq_tmp$x##1098)) else false) else (if is$SExec.Free lq_tmp$x##1099 then SExec.validMem (Memory.unset (SExec.Free##lqdc##$select##SExec.Free##1 lq_tmp$x##1099) lq_tmp$x##1098) (SExec.Free##lqdc##$select##SExec.Free##2 lq_tmp$x##1099) lq_tmp$x##1100 else true))))}</span><span class='hs-varid'>validMem</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1139 : (Memory.Mem GHC.Types.Int) | lq_tmp$x##1139 == m##a4wj}</span><span class='hs-varid'>m</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1140 : SExec.Code | lq_tmp$x##1140 == c##a4wp}</span><span class='hs-varid'>c</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1141 : GHC.Types.Int | lq_tmp$x##1141 == n##a4wo}</span><span class='hs-varid'>n</span></a>
<span class=hs-linenum>34: </span><span class='hs-definition'>validMem</span> <span class='hs-varid'>m</span> <span class='hs-layout'>(</span><span class='hs-conid'>Store</span> <span class='hs-varid'>r</span> <span class='hs-varid'>c</span><span class='hs-layout'>)</span> <span class='hs-varid'>a</span> <span class='hs-keyglyph'>=</span> <a class=annot href="#"><span class=annottext>lq_tmp$x##1098:(Memory.Mem GHC.Types.Int) -&gt; lq_tmp$x##1099:SExec.Code -&gt; lq_tmp$x##1100:GHC.Types.Int -&gt; {VV : GHC.Types.Bool | VV == SExec.validMem lq_tmp$x##1098 lq_tmp$x##1099 lq_tmp$x##1100
                                                                                                                                 &amp;&amp; VV == (if is$SExec.Load lq_tmp$x##1099 then SExec.validMem lq_tmp$x##1098 (SExec.Load##lqdc##$select##SExec.Load##2 lq_tmp$x##1099) (SExec.Load##lqdc##$select##SExec.Load##1 lq_tmp$x##1099) else (if is$SExec.Store lq_tmp$x##1099 then SExec.validMem (Memory.set (SExec.Store##lqdc##$select##SExec.Store##1 lq_tmp$x##1099) lq_tmp$x##1100 lq_tmp$x##1098) (SExec.Store##lqdc##$select##SExec.Store##2 lq_tmp$x##1099) lq_tmp$x##1100 else (if is$SExec.Add lq_tmp$x##1099 then (if Set_mem (SExec.Add##lqdc##$select##SExec.Add##1 lq_tmp$x##1099) (Memory.memAddrs lq_tmp$x##1098) then SExec.validMem lq_tmp$x##1098 (SExec.Add##lqdc##$select##SExec.Add##2 lq_tmp$x##1099) (SExec.add lq_tmp$x##1100 (Memory.get (SExec.Add##lqdc##$select##SExec.Add##1 lq_tmp$x##1099) lq_tmp$x##1098)) else false) else (if is$SExec.Free lq_tmp$x##1099 then SExec.validMem (Memory.unset (SExec.Free##lqdc##$select##SExec.Free##1 lq_tmp$x##1099) lq_tmp$x##1098) (SExec.Free##lqdc##$select##SExec.Free##2 lq_tmp$x##1099) lq_tmp$x##1100 else true))))}</span><span class='hs-varid'>validMem</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1164 : (Memory.Mem {lq_tmp$x##1173 : GHC.Types.Int | $k_##1172[VV##1171:=lq_tmp$x##1173][lq_tmp$x##1168:=r##a4ws][lq_tmp$x##1169:=a##a4wm][lq_tmp$x##1170:=m##a4wj]}) | Memory.memAddrs lq_tmp$x##1164 == Set_cup (Set_sng r##a4ws) (Memory.memAddrs m##a4wj)
                                                                                                                                                                                   &amp;&amp; lq_tmp$x##1164 == Memory.set r##a4ws a##a4wm m##a4wj
                                                                                                                                                                                   &amp;&amp; lq_tmp$x##1164 == (if is$Memory.MEmp m##a4wj then Memory.MCons r##a4ws a##a4wm Memory.MEmp else (if r##a4ws == Memory.addr m##a4wj then Memory.MCons r##a4ws a##a4wm (Memory.mem m##a4wj) else Memory.MCons (Memory.addr m##a4wj) (Memory.val m##a4wj) (Memory.set r##a4ws a##a4wm (Memory.mem m##a4wj))))
                                                                                                                                                                                   &amp;&amp; lq_tmp$x##1164 == Memory.set r##a4ws a##a4wm m##a4wj}</span><span class='hs-layout'>(</span></a><span class='hs-varid'>set</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1174 : GHC.Types.Int | lq_tmp$x##1174 == r##a4ws}</span><span class='hs-varid'>r</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1175 : GHC.Types.Int | lq_tmp$x##1175 == a##a4wm}</span><span class='hs-varid'>a</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1177 : (Memory.Mem GHC.Types.Int) | lq_tmp$x##1177 == m##a4wj}</span><span class='hs-varid'>m</span></a><span class='hs-layout'>)</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1192 : SExec.Code | lq_tmp$x##1192 == c##a4wt}</span><span class='hs-varid'>c</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1193 : GHC.Types.Int | lq_tmp$x##1193 == a##a4wm}</span><span class='hs-varid'>a</span></a>  
<span class=hs-linenum>35: </span><span class='hs-definition'>validMem</span> <span class='hs-varid'>m</span> <span class='hs-layout'>(</span><span class='hs-conid'>Free</span> <span class='hs-varid'>r</span> <span class='hs-varid'>c</span><span class='hs-layout'>)</span> <span class='hs-varid'>a</span>  <span class='hs-keyglyph'>=</span> <a class=annot href="#"><span class=annottext>lq_tmp$x##1098:(Memory.Mem GHC.Types.Int) -&gt; lq_tmp$x##1099:SExec.Code -&gt; lq_tmp$x##1100:GHC.Types.Int -&gt; {VV : GHC.Types.Bool | VV == SExec.validMem lq_tmp$x##1098 lq_tmp$x##1099 lq_tmp$x##1100
                                                                                                                                 &amp;&amp; VV == (if is$SExec.Load lq_tmp$x##1099 then SExec.validMem lq_tmp$x##1098 (SExec.Load##lqdc##$select##SExec.Load##2 lq_tmp$x##1099) (SExec.Load##lqdc##$select##SExec.Load##1 lq_tmp$x##1099) else (if is$SExec.Store lq_tmp$x##1099 then SExec.validMem (Memory.set (SExec.Store##lqdc##$select##SExec.Store##1 lq_tmp$x##1099) lq_tmp$x##1100 lq_tmp$x##1098) (SExec.Store##lqdc##$select##SExec.Store##2 lq_tmp$x##1099) lq_tmp$x##1100 else (if is$SExec.Add lq_tmp$x##1099 then (if Set_mem (SExec.Add##lqdc##$select##SExec.Add##1 lq_tmp$x##1099) (Memory.memAddrs lq_tmp$x##1098) then SExec.validMem lq_tmp$x##1098 (SExec.Add##lqdc##$select##SExec.Add##2 lq_tmp$x##1099) (SExec.add lq_tmp$x##1100 (Memory.get (SExec.Add##lqdc##$select##SExec.Add##1 lq_tmp$x##1099) lq_tmp$x##1098)) else false) else (if is$SExec.Free lq_tmp$x##1099 then SExec.validMem (Memory.unset (SExec.Free##lqdc##$select##SExec.Free##1 lq_tmp$x##1099) lq_tmp$x##1098) (SExec.Free##lqdc##$select##SExec.Free##2 lq_tmp$x##1099) lq_tmp$x##1100 else true))))}</span><span class='hs-varid'>validMem</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1318 : (Memory.Mem {lq_tmp$x##1325 : GHC.Types.Int | $k_##1324[VV##1323:=lq_tmp$x##1325][lq_tmp$x##1321:=r##a4ww][lq_tmp$x##1322:=m##a4wj]}) | Memory.memAddrs lq_tmp$x##1318 == Set_dif (Memory.memAddrs m##a4wj) (Set_sng r##a4ww)
                                                                                                                                                          &amp;&amp; lq_tmp$x##1318 == Memory.unset r##a4ww m##a4wj
                                                                                                                                                          &amp;&amp; lq_tmp$x##1318 == (if is$Memory.MEmp m##a4wj then Memory.MEmp else (if r##a4ww == Memory.addr m##a4wj then Memory.mem m##a4wj else Memory.MCons (Memory.addr m##a4wj) (Memory.val m##a4wj) (Memory.unset r##a4ww (Memory.mem m##a4wj))))
                                                                                                                                                          &amp;&amp; lq_tmp$x##1318 == Memory.unset r##a4ww m##a4wj}</span><span class='hs-layout'>(</span></a><span class='hs-varid'>unset</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1326 : GHC.Types.Int | lq_tmp$x##1326 == r##a4ww}</span><span class='hs-varid'>r</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1328 : (Memory.Mem GHC.Types.Int) | lq_tmp$x##1328 == m##a4wj}</span><span class='hs-varid'>m</span></a><span class='hs-layout'>)</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1343 : SExec.Code | lq_tmp$x##1343 == c##a4wx}</span><span class='hs-varid'>c</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1344 : GHC.Types.Int | lq_tmp$x##1344 == a##a4wm}</span><span class='hs-varid'>a</span></a>  
<span class=hs-linenum>36: </span><span class='hs-definition'>validMem</span> <span class='hs-varid'>m</span> <span class='hs-keyword'>_</span> <span class='hs-varid'>a</span> <span class='hs-keyglyph'>=</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##1350 : GHC.Types.Bool | lq_tmp$x##1350
                                   &amp;&amp; lq_tmp$x##1350 == GHC.Types.True}</span><span class='hs-conid'>True</span></a> 
<span class=hs-linenum>37: </span>
<span class=hs-linenum>38: </span>
<span class=hs-linenum>39: </span><span class='hs-keyword'>{-@</span> <span class='hs-keyword'>type</span> <span class='hs-conid'>ValidCode</span> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>{</span><span class='hs-varid'>c</span><span class='hs-conop'>:</span><span class='hs-conid'>Code</span> <span class='hs-keyglyph'>|</span> <span class='hs-varid'>validMem</span> <span class='hs-conid'>MEmp</span> <span class='hs-varid'>c</span> <span class='hs-num'>0</span> <span class='hs-layout'>}</span> <span class='hs-keyword'>@-}</span>
<span class=hs-linenum>40: </span><span class='hs-keyword'>{-@</span> <span class='hs-varid'>code</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>ValidCode</span>  <span class='hs-keyword'>@-}</span> 
<span class=hs-linenum>41: </span><span class='hs-definition'>code</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Code</span> 
<span class=hs-linenum>42: </span><a class=annot href="#"><span class=annottext>{VV##0 : SExec.Code | SExec.validMem Memory.MEmp VV##0 0}</span><span class='hs-definition'>code</span></a> <span class='hs-keyglyph'>=</span>  <span class='hs-conid'>Store</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##642 : GHC.Types.Int | lq_tmp$x##642 == lq_anf$##7205759403792811197##d4zP
                                 &amp;&amp; lq_tmp$x##642 == GHC.Types.I# lq_anf$##7205759403792811197##d4zP}</span><span class='hs-num'>0</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##693 : SExec.Code | (is$SExec.Halt lq_tmp$x##693 &lt;=&gt; false)
                              &amp;&amp; (is$SExec.Free lq_tmp$x##693 &lt;=&gt; false)
                              &amp;&amp; (is$SExec.Add lq_tmp$x##693 &lt;=&gt; false)
                              &amp;&amp; (is$SExec.Store lq_tmp$x##693 &lt;=&gt; false)
                              &amp;&amp; SExec.Load##lqdc##$select##SExec.Load##2 lq_tmp$x##693 == lq_anf$##7205759403792811206##d4zY
                              &amp;&amp; SExec.Load##lqdc##$select##SExec.Load##1 lq_tmp$x##693 == lq_anf$##7205759403792811200##d4zS
                              &amp;&amp; (is$SExec.Load lq_tmp$x##693 &lt;=&gt; true)
                              &amp;&amp; lq_tmp$x##693 == SExec.Load lq_anf$##7205759403792811200##d4zS lq_anf$##7205759403792811206##d4zY
                              &amp;&amp; lq_tmp$x##693 == SExec.Load lq_anf$##7205759403792811200##d4zS lq_anf$##7205759403792811206##d4zY}</span><span class='hs-layout'>(</span></a><span class='hs-conid'>Load</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##650 : GHC.Types.Int | lq_tmp$x##650 == lq_anf$##7205759403792811199##d4zR
                                 &amp;&amp; lq_tmp$x##650 == GHC.Types.I# lq_anf$##7205759403792811199##d4zR}</span><span class='hs-num'>42</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##683 : SExec.Code | (is$SExec.Halt lq_tmp$x##683 &lt;=&gt; false)
                              &amp;&amp; (is$SExec.Free lq_tmp$x##683 &lt;=&gt; false)
                              &amp;&amp; (is$SExec.Add lq_tmp$x##683 &lt;=&gt; false)
                              &amp;&amp; SExec.Store##lqdc##$select##SExec.Store##2 lq_tmp$x##683 == lq_anf$##7205759403792811205##d4zX
                              &amp;&amp; SExec.Store##lqdc##$select##SExec.Store##1 lq_tmp$x##683 == lq_anf$##7205759403792811202##d4zU
                              &amp;&amp; (is$SExec.Store lq_tmp$x##683 &lt;=&gt; true)
                              &amp;&amp; (is$SExec.Load lq_tmp$x##683 &lt;=&gt; false)
                              &amp;&amp; lq_tmp$x##683 == SExec.Store lq_anf$##7205759403792811202##d4zU lq_anf$##7205759403792811205##d4zX
                              &amp;&amp; lq_tmp$x##683 == SExec.Store lq_anf$##7205759403792811202##d4zU lq_anf$##7205759403792811205##d4zX}</span><span class='hs-layout'>(</span></a><span class='hs-conid'>Store</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##658 : GHC.Types.Int | lq_tmp$x##658 == lq_anf$##7205759403792811201##d4zT
                                 &amp;&amp; lq_tmp$x##658 == GHC.Types.I# lq_anf$##7205759403792811201##d4zT}</span><span class='hs-num'>42</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##673 : SExec.Code | (is$SExec.Halt lq_tmp$x##673 &lt;=&gt; false)
                              &amp;&amp; (is$SExec.Free lq_tmp$x##673 &lt;=&gt; false)
                              &amp;&amp; SExec.Add##lqdc##$select##SExec.Add##2 lq_tmp$x##673 == SExec.Halt
                              &amp;&amp; SExec.Add##lqdc##$select##SExec.Add##1 lq_tmp$x##673 == lq_anf$##7205759403792811204##d4zW
                              &amp;&amp; (is$SExec.Add lq_tmp$x##673 &lt;=&gt; true)
                              &amp;&amp; (is$SExec.Store lq_tmp$x##673 &lt;=&gt; false)
                              &amp;&amp; (is$SExec.Load lq_tmp$x##673 &lt;=&gt; false)
                              &amp;&amp; lq_tmp$x##673 == SExec.Add lq_anf$##7205759403792811204##d4zW SExec.Halt
                              &amp;&amp; lq_tmp$x##673 == SExec.Add lq_anf$##7205759403792811204##d4zW SExec.Halt}</span><span class='hs-layout'>(</span></a> <span class='hs-conid'>Add</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##666 : GHC.Types.Int | lq_tmp$x##666 == lq_anf$##7205759403792811203##d4zV
                                 &amp;&amp; lq_tmp$x##666 == GHC.Types.I# lq_anf$##7205759403792811203##d4zV}</span><span class='hs-num'>42</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##679 : SExec.Code | (is$SExec.Halt lq_tmp$x##679 &lt;=&gt; true)
                              &amp;&amp; (is$SExec.Free lq_tmp$x##679 &lt;=&gt; false)
                              &amp;&amp; (is$SExec.Add lq_tmp$x##679 &lt;=&gt; false)
                              &amp;&amp; (is$SExec.Store lq_tmp$x##679 &lt;=&gt; false)
                              &amp;&amp; (is$SExec.Load lq_tmp$x##679 &lt;=&gt; false)
                              &amp;&amp; lq_tmp$x##679 == SExec.Halt
                              &amp;&amp; lq_tmp$x##679 == SExec.Halt}</span><span class='hs-conid'>Halt</span></a><span class='hs-layout'>)</span><span class='hs-layout'>)</span><span class='hs-layout'>)</span>
<span class=hs-linenum>43: </span>
<span class=hs-linenum>44: </span><span class='hs-definition'>runExample</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Config</span> 
<span class=hs-linenum>45: </span><a class=annot href="#"><span class=annottext>(GHC.Types.Int, (Memory.Mem GHC.Types.Int))</span><span class='hs-definition'>runExample</span></a> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>exec</span> <a class=annot href="#"><span class=annottext>{lq_tmp$x##2055 : SExec.Code | SExec.validMem Memory.MEmp lq_tmp$x##2055 0
                               &amp;&amp; lq_tmp$x##2055 == SExec.code}</span><span class='hs-varid'>code</span></a> <a class=annot href="#"><span class=annottext>{lq_tmp$x##2008 : ({lq_tmp$x##2016 : GHC.Types.Int | $k_##2015[VV##2014:=lq_tmp$x##2016][lq_tmp$x##2011:=lq_anf$##7205759403792811267##d4AX][lq_tmp$x##2012:=lq_anf$##7205759403792811268##d4AY]}, {lq_tmp$x##2022 : (Memory.Mem {lq_tmp$x##2021 : GHC.Types.Int | $k_##2018[VV##2017:=lq_tmp$x##2021][VV##2019:=lq_tmp$x##2022][lq_tmp$x##2011:=lq_anf$##7205759403792811267##d4AX][lq_tmp$x##2012:=lq_anf$##7205759403792811268##d4AY]}) | $k_##2020[VV##2019:=lq_tmp$x##2022][lq_tmp$x##2011:=lq_anf$##7205759403792811267##d4AX][lq_tmp$x##2012:=lq_anf$##7205759403792811268##d4AY]})&lt;\lq_tmp$x##2013 VV -&gt; {lq_tmp$x##2022 : (Memory.Mem {lq_tmp$x##2021 : GHC.Types.Int | $k_##2024[VV##2023:=lq_tmp$x##2021][VV##2025:=lq_tmp$x##2022][lq_tmp$x##2011:=lq_anf$##7205759403792811267##d4AX][lq_tmp$x##2012:=lq_anf$##7205759403792811268##d4AY][lq_tmp$x##2027:=lq_tmp$x##2013]}) | $k_##2026[VV##2025:=lq_tmp$x##2022][lq_tmp$x##2011:=lq_anf$##7205759403792811267##d4AX][lq_tmp$x##2012:=lq_anf$##7205759403792811268##d4AY][lq_tmp$x##2027:=lq_tmp$x##2013]}&gt; | x_Tuple22 lq_tmp$x##2008 == lq_anf$##7205759403792811268##d4AY
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           &amp;&amp; x_Tuple21 lq_tmp$x##2008 == lq_anf$##7205759403792811267##d4AX
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           &amp;&amp; lqdc##$select##GHC.Tuple.(,)##2 lq_tmp$x##2008 == lq_anf$##7205759403792811268##d4AY
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           &amp;&amp; lqdc##$select##GHC.Tuple.(,)##1 lq_tmp$x##2008 == lq_anf$##7205759403792811267##d4AX
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           &amp;&amp; (is$GHC.Tuple.(,) lq_tmp$x##2008 &lt;=&gt; true)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           &amp;&amp; snd lq_tmp$x##2008 == lq_anf$##7205759403792811268##d4AY
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           &amp;&amp; fst lq_tmp$x##2008 == lq_anf$##7205759403792811267##d4AX
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           &amp;&amp; lq_tmp$x##2008 == GHC.Tuple.(,) lq_anf$##7205759403792811267##d4AX lq_anf$##7205759403792811268##d4AY
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           &amp;&amp; lq_tmp$x##2008 == GHC.Tuple.(,) lq_anf$##7205759403792811267##d4AX lq_anf$##7205759403792811268##d4AY}</span><span class='hs-layout'>(</span></a><a class=annot href="#"><span class=annottext>{lq_tmp$x##1991 : GHC.Types.Int | lq_tmp$x##1991 == lq_anf$##7205759403792811266##d4AW
                                  &amp;&amp; lq_tmp$x##1991 == GHC.Types.I# lq_anf$##7205759403792811266##d4AW}</span><span class='hs-num'>0</span></a><span class='hs-layout'>,</span><a class=annot href="#"><span class=annottext>{VV : forall v .
      {lq_tmp$x##1997 : (Memory.Mem v) | (is$Memory.MEmp lq_tmp$x##1997 &lt;=&gt; true)
                                         &amp;&amp; (is$Memory.MCons lq_tmp$x##1997 &lt;=&gt; false)
                                         &amp;&amp; (is$Memory.MCons lq_tmp$x##1997 &lt;=&gt; false)
                                         &amp;&amp; (is$Memory.MEmp lq_tmp$x##1997 &lt;=&gt; true)
                                         &amp;&amp; Memory.memAddrs lq_tmp$x##1997 == Set_empty 0
                                         &amp;&amp; lq_tmp$x##1997 == Memory.MEmp
                                         &amp;&amp; lq_tmp$x##1997 == Memory.MEmp} | VV == Memory.MEmp}</span><span class='hs-conid'>MEmp</span></a><span class='hs-layout'>)</span>
<span class=hs-linenum>46: </span>
<span class=hs-linenum>47: </span>
<span class=hs-linenum>48: </span>
<span class=hs-linenum>49: </span><span class='hs-keyword'>{-@</span> <span class='hs-varid'>reflect</span> <span class='hs-varid'>add</span> <span class='hs-keyword'>@-}</span>
<span class=hs-linenum>50: </span><span class='hs-definition'>add</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Int</span> <span class='hs-keyglyph'>-&gt;</span> <span class='hs-conid'>Int</span> 
<span class=hs-linenum>51: </span><a class=annot href="#"><span class=annottext>lq_tmp$x##1079:GHC.Types.Int -&gt; lq_tmp$x##1080:GHC.Types.Int -&gt; {VV : GHC.Types.Int | VV == SExec.add lq_tmp$x##1079 lq_tmp$x##1080
                                                                                      &amp;&amp; VV == lq_tmp$x##1079 + lq_tmp$x##1080}</span><span class='hs-definition'>add</span></a> <span class='hs-keyglyph'>=</span> <span class='hs-layout'>(</span><span class='hs-varop'>+</span><span class='hs-layout'>)</span>
<span class=hs-linenum>52: </span>
<span class=hs-linenum>53: </span>
</pre>
</body>
</html>